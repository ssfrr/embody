#!/usr/bin/env python

'''fake.py

Generates fake implementations from C header files

Usage:
    fake.py <header> [<outfile_basename>]
'''

from docopt import docopt
import embody


def main(args):
    infilename = args['<header>']
    outfile_basename = args['<outfile_basename>']

    fake_src, fake_header = embody.open_fakefiles(
        infilename, outfile_basename)
    embody.parse_header(args['<header>'])
    fake_src.close()
    fake_header.close()
if __name__ == '__main__':
    args = docopt(__doc__)
    main(args)
